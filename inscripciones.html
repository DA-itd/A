<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscripci√≥n a Cursos - ITD</title>
    <meta name="description" content="Inscr√≠bete a los cursos de actualizaci√≥n docente del Instituto Tecnol√≥gico de Durango. Consulta la oferta acad√©mica, selecciona tus cursos y reg√≠strate en l√≠nea.">
    <meta name="keywords" content="inscripciones ITD, cursos ITD, registro cursos, actualizaci√≥n docente, TecNM Durango">
    
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- ‚ö†Ô∏è ACTUALIZADO: Babel 7 para soportar sintaxis moderna -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JH1X2720VL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-JH1X2720VL');
    </script>
</head>
<body class="bg-gray-100">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between gap-4 py-4 min-h-[100px]">
                <div class="flex-shrink-0">
                    <img class="h-16 md:h-20 lg:h-24" src="https://raw.githubusercontent.com/DA-itd/web/main/TecNM_logo.jpg" alt="Logo TecNM">
                </div>
                <div class="text-center flex-1 px-2">
                    <h1 class="text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-blue-900">
                        SISTEMA DE INSCRIPCI√ìN A CURSOS DE ACTUALIZACI√ìN DOCENTE
                    </h1>
                    <h2 class="text-sm sm:text-base md:text-lg text-blue-900 mt-1">
                        INSTITUTO TECNOL√ìGICO DE DURANGO
                    </h2>
                </div>
                <div class="flex-shrink-0">
                    <img class="h-16 md:h-20 lg:h-24" src="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png" alt="Logo Instituto Tecnol√≥gico de Durango">
                </div>
            </div>
        </div>
    </header>

    <div id="root"></div>

    <!-- Footer -->
    <footer class="bg-blue-800 text-white text-center p-4 mt-auto">
        <p class="font-semibold text-sm sm:text-base">¬© Coordinaci√≥n de actualizaci√≥n docente - M.C. Alejandro Calder√≥n Renter√≠a.</p>
        <p class="text-xs sm:text-sm">Todos los derechos reservados 2025.</p>
    </footer>

    <!-- ========================================================================== -->
    <!-- üîß CONFIGURACI√ìN CR√çTICA - LEA ATENTAMENTE                                -->
    <!-- ========================================================================== -->
    <script>
        window.CONFIG = {
            // ========================================================================
            // ‚ö†Ô∏è PASO 1: ACTUALIZAR EL CODE.GS EN GOOGLE APPS SCRIPT
            // ========================================================================
            // 1. Ve a: https://script.google.com
            // 2. Abre tu proyecto "Sistema ITD"
            // 3. Reemplaza TODO el contenido de Code.gs con la versi√≥n 4.0.9
            // 4. Guarda el archivo (Ctrl+S o Cmd+S)
            //
            // ========================================================================
            // ‚ö†Ô∏è PASO 2: CREAR NUEVA IMPLEMENTACI√ìN (MUY IMPORTANTE)
            // ========================================================================
            // 5. Haz clic en "Implementar" (arriba a la derecha)
            // 6. Selecciona "Nueva implementaci√≥n"
            // 7. Tipo: "Aplicaci√≥n web"
            // 8. Ejecutar como: Tu cuenta
            // 9. Acceso: "Cualquier usuario"
            // 10. Haz clic en "Implementar"
            // 11. AUTORIZA LOS PERMISOS cuando te lo pida
            // 12. COPIA LA URL que se genera (ejemplo abajo)
            //
            // ========================================================================
            // ‚ö†Ô∏è PASO 3: PEGAR LA NUEVA URL AQU√ç ABAJO
            // ========================================================================
            // üëá REEMPLAZA ESTA URL CON LA QUE COPIASTE EN EL PASO 2
            
            APPS_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbyzhldum7ClpkopJ-RmE7Me56kGFd-lS3YytjEVZChRNBB7VRXa8JzH-_P7T6lkuKV6Hw/exec'
            
            // ========================================================================
            // üìù EJEMPLO DE URL CORRECTA:
            // 'https://script.google.com/macros/s/AKfycbyXXXXXXXXXXXXXXXXXXXXXX/exec'
            // ========================================================================
            //
            // ‚ö†Ô∏è NOTAS IMPORTANTES:
            // - La URL debe terminar con '/exec'
            // - Debe empezar con 'https://script.google.com/macros/s/'
            // - Si acabas de actualizar el Code.gs, DEBES crear una nueva implementaci√≥n
            // - Cada nueva implementaci√≥n genera una URL diferente
            // - No elimines las implementaciones anteriores (por si necesitas revertir)
            //
            // ========================================================================
            // üÜò SI EL SISTEMA NO CARGA:
            // ========================================================================
            // 1. Abre la consola del navegador (F12 > Console)
            // 2. Busca errores en rojo
            // 3. Si ves "Failed to fetch" o "CORS", significa que:
            //    - La URL est√° mal
            //    - No has creado una nueva implementaci√≥n
            //    - Los permisos no est√°n configurados correctamente
            //
            // ========================================================================
            // ‚úÖ PARA VERIFICAR QUE FUNCIONA:
            // ========================================================================
            // Abre esta URL en tu navegador (reemplaza con tu URL):
            // https://script.google.com/macros/s/TU_URL_AQUI/exec?action=lookupByCurp&curp=TEST123456789012
            //
            // Deber√≠as ver algo como:
            // {"success":true,"data":{"registeredCourses":[]}}
            //
            // Si ves un error HTML, la URL est√° incorrecta o no est√° desplegada.
            // ========================================================================
        };

        // ========================================================================
        // üîç DIAGN√ìSTICO AUTOM√ÅTICO
        // ========================================================================
        (function() {
            const url = window.CONFIG && window.CONFIG.APPS_SCRIPT_URL;
            
            console.log('%c=== DIAGN√ìSTICO DEL SISTEMA DE INSCRIPCIONES ===', 'background: #1e40af; color: white; font-size: 14px; font-weight: bold; padding: 8px;');
            
            if (!url) {
                console.error('%c‚ùå ERROR: No hay URL configurada', 'color: red; font-size: 12px; font-weight: bold;');
                console.log('%c‚Üí Soluci√≥n: Configure APPS_SCRIPT_URL en window.CONFIG', 'color: orange; font-size: 11px;');
            } else {
                console.log('%c‚úì URL configurada:', 'color: green; font-size: 12px; font-weight: bold;');
                console.log('%c  ' + url, 'color: blue; font-size: 11px;');
                
                // Validar formato de URL
                if (!url.startsWith('https://script.google.com/macros/s/')) {
                    console.warn('%c‚ö†Ô∏è ADVERTENCIA: La URL no parece ser de Google Apps Script', 'color: orange; font-size: 12px; font-weight: bold;');
                }
                
                if (!url.endsWith('/exec')) {
                    console.warn('%c‚ö†Ô∏è ADVERTENCIA: La URL debe terminar con /exec', 'color: orange; font-size: 12px; font-weight: bold;');
                }
                
                // Verificar si es la URL de ejemplo (sin cambiar)
                if (url.includes('AKfycbyzhldum7ClpkopJ-RmE7Me56kGFd')) {
                    console.warn('%c‚ö†Ô∏è ADVERTENCIA: Est√°s usando la URL de ejemplo', 'color: orange; font-size: 12px; font-weight: bold;');
                    console.log('%c‚Üí Si acabas de actualizar Code.gs, necesitas:', 'color: orange; font-size: 11px;');
                    console.log('%c   1. Crear una NUEVA implementaci√≥n en Google Apps Script', 'color: gray; font-size: 11px;');
                    console.log('%c   2. Copiar la NUEVA URL generada', 'color: gray; font-size: 11px;');
                    console.log('%c   3. Reemplazar APPS_SCRIPT_URL con la nueva URL', 'color: gray; font-size: 11px;');
                }
            }
            
            console.log('%c==============================================', 'color: gray; font-size: 12px;');
        })();
    </script>
    <!-- ========================================================================== -->

    <!-- Carga el archivo index.js que contiene toda la l√≥gica -->
    <script type="text/babel" src="index.js"></script>

</body>
</html>

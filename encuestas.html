<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encuestas de Opini√≥n - ITD</title>
    
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen">

    <!-- Header -->
    <header class="bg-white shadow-xl sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4 sm:py-6">
            <div class="flex items-center justify-between gap-4">
                <img src="https://raw.githubusercontent.com/DA-itd/web/main/TecNM_logo.jpg" 
                     alt="TecNM" 
                     class="h-12 sm:h-16 md:h-20 object-contain">
                
                <div class="text-center flex-1 px-2 sm:px-4">
                    <h1 class="text-sm sm:text-xl md:text-2xl lg:text-3xl font-bold text-blue-900 leading-tight">
                        ENCUESTAS DE OPINI√ìN
                    </h1>
                    <p class="text-xs sm:text-sm md:text-base text-blue-700 mt-1 font-semibold">
                        Evaluaci√≥n de Cursos
                    </p>
                    <p class="text-xs sm:text-sm text-blue-600">
                        TecNM - Instituto Tecnol√≥gico de Durango
                    </p>
                </div>
                
                <img src="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png" 
                     alt="ITD" 
                     class="h-12 sm:h-16 md:h-20 object-contain">
            </div>
        </div>
    </header>

    <div id="root"></div>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-blue-900 to-indigo-900 text-white text-center py-6 sm:py-8 mt-12">
        <div class="container mx-auto px-4">
            <p class="font-semibold text-sm sm:text-base mb-2">
                ¬© Coordinaci√≥n de Actualizaci√≥n Docente
            </p>
            <p class="text-xs sm:text-sm opacity-90">
                M.C. Alejandro Calder√≥n Renter√≠a
            </p>
            <p class="text-xs sm:text-sm opacity-75 mt-1">
                Todos los derechos reservados 2024
            </p>
        </div>
    </footer>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // =============================================================================
        // CONFIGURACI√ìN
        // =============================================================================
        const COURSES_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSAe4dmVN4CArjEy_lvI5qrXf16naxZLO1lAxGm2Pj4TrdnoebBg03Vv4-DCXciAkHJFiZaBMKletUs/pub?gid=0&single=true&output=csv';
        const TEACHERS_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSAe4dmVN4CArjEy_lvI5qrXf16naxZLO1lAxGm2Pj4TrdnoebBg03Vv4-DCXciAkHJFiZaBMKletUs/pub?gid=987931491&single=true&output=csv';
        
        const SURVEY_URL = 'https://forms.gle/8kkdXTawKxFP4XFD7';

        const MOCK_DEPARTMENTS = [
            "DEPARTAMENTO DE SISTEMAS Y COMPUTACION",
            "DEPARTAMENTO DE INGENIER√çA EL√âCTRICA Y ELECTR√ìNICA",
            "DEPARTAMENTO DE CIENCIAS ECONOMICO-ADMINISTRATIVAS",
            "DEPARTAMENTO DE INGENIER√çA QU√çMICA-BIOQU√çMICA",
            "DEPARTAMENTO DE CIENCIAS DE LA TIERRA",
            "DEPARTAMENTO DE CIENCIAS BASICAS",
            "DEPARTAMENTO DE METAL-MEC√ÅNICA",
            "DEPARTAMENTO DE INGENIER√çA INDUSTRIAL",
            "DIVISION DE ESTUDIOS DE POSGRADO E INVESTIGACION",
            "ADMINISTRATIVO",
            "EXTERNO"
        ];

        // =============================================================================
        // FUNCIONES DE UTILIDAD
        // =============================================================================
        const removeAccents = (text) => {
            if (!text) return '';
            return text.normalize('NFD').replace(/[\u0300-\u036f]/g, '');
        };

        const parseCSVLine = (line) => {
            const result = [];
            let current = '';
            let inQuotes = false;
            
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                if (char === '"') {
                    if (inQuotes && line[i + 1] === '"') {
                        current += '"';
                        i++;
                    } else {
                        inQuotes = !inQuotes;
                    }
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current.trim());
            return result;
        };

        const cleanCSVValue = (val) => {
            let cleaned = val.trim();
            if (cleaned.startsWith('"') && cleaned.endsWith('"')) {
                cleaned = cleaned.substring(1, cleaned.length - 1).replace(/""/g, '"');
            }
            return cleaned;
        };

        // =============================================================================
        // API SERVICES
        // =============================================================================
        const getTeachers = async () => {
            try {
                const response = await fetch(`${TEACHERS_CSV_URL}&_=${Date.now()}`);
                if (!response.ok) throw new Error('Error al cargar docentes');
                
                const csvText = await response.text();
                const lines = csvText.trim().split(/\r?\n/);
                
                return lines.slice(1)
                    .filter(line => line.trim())
                    .map(line => {
                        const values = parseCSVLine(line);
                        if (values.length < 3) return null;
                        return {
                            nombreCompleto: cleanCSVValue(values[0]),
                            curp: cleanCSVValue(values[1]),
                            email: cleanCSVValue(values[2])
                        };
                    })
                    .filter(teacher => teacher !== null);
            } catch (error) {
                console.error("Error al obtener docentes:", error);
                return [];
            }
        };

        const getCourses = async () => {
            try {
                const response = await fetch(`${COURSES_CSV_URL}&_=${Date.now()}`);
                if (!response.ok) throw new Error('Error al cargar cursos');
                
                const csvText = await response.text();
                const lines = csvText.trim().split(/\r?\n/);
                
                return lines.slice(1)
                    .filter(line => line.trim())
                    .map(line => {
                        const values = parseCSVLine(line);
                        if (values.length < 8) return null;
                        
                        return {
                            id: cleanCSVValue(values[0]),
                            name: cleanCSVValue(values[1]),
                            dates: cleanCSVValue(values[2]),
                            period: cleanCSVValue(values[3]),
                            location: cleanCSVValue(values[5]),
                            schedule: cleanCSVValue(values[6])
                        };
                    })
                    .filter(course => course !== null);
            } catch (error) {
                console.error("Error al obtener cursos:", error);
                return [];
            }
        };

        const submitSurveyRecord = async (data) => {
            const APPS_SCRIPT_URL = window.CONFIG?.APPS_SCRIPT_URL;
            if (!APPS_SCRIPT_URL) {
                console.warn("No hay URL configurada, registro solo local");
                return { success: true };
            }
            
            try {
                const response = await fetch(APPS_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'cors',
                    redirect: 'follow',
                    headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                    body: JSON.stringify({ 
                        action: 'submitSurveyRecord',
                        ...data 
                    })
                });

                const result = await response.json();
                return result;
            } catch (error) {
                console.error("Error al registrar encuesta:", error);
                return { success: true }; // Continuar aunque falle el registro
            }
        };

        // =============================================================================
        // COMPONENTE AUTOCOMPLETE
        // =============================================================================
        const AutocompleteInput = ({ teachers, onSelect, value, onChange, name, placeholder, required = false }) => {
            const [suggestions, setSuggestions] = useState([]);
            const [showSuggestions, setShowSuggestions] = useState(false);
            const containerRef = React.useRef(null);

            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (containerRef.current && !containerRef.current.contains(event.target)) {
                        setShowSuggestions(false);
                    }
                };
                document.addEventListener('mousedown', handleClickOutside);
                return () => document.removeEventListener('mousedown', handleClickOutside);
            }, []);

            const handleInputChange = (e) => {
                const currentValue = e.target.value;
                onChange(e);

                if (currentValue && currentValue.length > 0) {
                    const normalizedInput = removeAccents(currentValue.toLowerCase());
                    const filtered = teachers.filter(teacher =>
                        removeAccents(teacher.nombreCompleto.toLowerCase()).includes(normalizedInput)
                    ).slice(0, 5);
                    setSuggestions(filtered);
                    setShowSuggestions(filtered.length > 0);
                } else {
                    setSuggestions([]);
                    setShowSuggestions(false);
                }
            };

            const handleSelect = (teacher) => {
                onSelect(teacher);
                setShowSuggestions(false);
            };

            return (
                <div className="relative" ref={containerRef}>
                    <input
                        type="text"
                        name={name}
                        value={value}
                        onChange={handleInputChange}
                        onFocus={(e) => {
                            const val = e.target.value;
                            if (val) {
                                const normalizedInput = removeAccents(val.toLowerCase());
                                const filtered = teachers.filter(t =>
                                    removeAccents(t.nombreCompleto.toLowerCase()).includes(normalizedInput)
                                ).slice(0, 5);
                                setSuggestions(filtered);
                                setShowSuggestions(filtered.length > 0);
                            }
                        }}
                        placeholder={placeholder || "Escriba su nombre"}
                        className="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"
                        required={required}
                        autoComplete="off"
                    />
                    {showSuggestions && suggestions.length > 0 && (
                        <ul className="absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-60 overflow-auto">
                            {suggestions.map((teacher) => (
                                <li
                                    key={teacher.curp || teacher.nombreCompleto}
                                    onMouseDown={(e) => {
                                        e.preventDefault();
                                        handleSelect(teacher);
                                    }}
                                    className="px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm sm:text-base"
                                >
                                    {teacher.nombreCompleto}
                                </li>
                            ))}
                        </ul>
                    )}
                </div>
            );
        };

        // =============================================================================
        // COMPONENTE PRINCIPAL - SURVEY APP
        // =============================================================================
        const SurveyApp = () => {
            const [teachers, setTeachers] = useState([]);
            const [courses, setCourses] = useState([]);
            const [isLoading, setIsLoading] = useState(true);
            const [currentStep, setCurrentStep] = useState(1);
            
            const [formData, setFormData] = useState({
                teacherName: '',
                teacherEmail: '',
                department: '',
                selectedCourse: null
            });
            
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [error, setError] = useState(null);

            useEffect(() => {
                const fetchData = async () => {
                    setIsLoading(true);
                    try {
                        const [teachersData, coursesData] = await Promise.all([
                            getTeachers(),
                            getCourses()
                        ]);
                        setTeachers(teachersData);
                        setCourses(coursesData);
                    } catch (err) {
                        console.error("Error al cargar datos:", err);
                        setError("No se pudieron cargar los datos");
                    } finally {
                        setIsLoading(false);
                    }
                };
                fetchData();
            }, []);

            const handleTeacherSelect = (teacher) => {
                setFormData(prev => ({
                    ...prev,
                    teacherName: teacher.nombreCompleto.toUpperCase(),
                    teacherEmail: (teacher.email || '').toLowerCase()
                }));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                
                if (!formData.teacherName || !formData.department || !formData.selectedCourse) {
                    setError("Todos los campos son obligatorios");
                    return;
                }

                setIsSubmitting(true);
                setError(null);

                try {
                    // Registrar en la base de datos
                    await submitSurveyRecord({
                        timestamp: new Date().toISOString(),
                        teacherName: formData.teacherName,
                        teacherEmail: formData.teacherEmail,
                        department: formData.department,
                        courseId: formData.selectedCourse.id,
                        courseName: formData.selectedCourse.name,
                        surveyUrl: SURVEY_URL
                    });

                    // Avanzar al paso 2
                    setCurrentStep(2);
                    
                } catch (err) {
                    setError("Hubo un error al procesar tu solicitud");
                    console.error(err);
                } finally {
                    setIsSubmitting(false);
                }
            };

            const handleGoToSurvey = () => {
                // Abrir encuesta en nueva pesta√±a
                window.open(SURVEY_URL, '_blank');
                
                // Mostrar mensaje de agradecimiento
                setCurrentStep(3);
            };

            if (isLoading) {
                return (
                    <div className="container mx-auto px-4 py-12">
                        <div className="flex justify-center items-center h-64">
                            <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-800"></div>
                        </div>
                    </div>
                );
            }

            // PASO 1: Formulario de datos
            if (currentStep === 1) {
                return (
                    <div className="container mx-auto px-4 py-8">
                        <div className="max-w-3xl mx-auto">
                            <a href="index.html" 
                               className="inline-flex items-center text-blue-600 hover:text-blue-800 hover:underline mb-6 text-sm">
                                ‚Üê Volver al Portal Principal
                            </a>

                            <div className="bg-gradient-to-r from-yellow-400 to-orange-400 rounded-2xl shadow-xl p-6 text-white mb-8 animate-fadeIn">
                                <div className="flex items-center gap-4">
                                    <div className="text-5xl">üìä</div>
                                    <div>
                                        <h2 className="text-2xl sm:text-3xl font-bold mb-2">Encuesta de Evaluaci√≥n</h2>
                                        <p className="text-sm opacity-90">
                                            Tu opini√≥n es muy importante para mejorar nuestros cursos
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-xl shadow-lg p-6 sm:p-8">
                                <h3 className="text-xl font-bold text-gray-800 mb-6">
                                    Datos del Docente y Curso
                                </h3>

                                {error && (
                                    <div className="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md">
                                        <p className="text-sm">{error}</p>
                                    </div>
                                )}

                                <form onSubmit={handleSubmit} className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Nombre Completo *
                                        </label>
                                        <AutocompleteInput
                                            teachers={teachers}
                                            onSelect={handleTeacherSelect}
                                            value={formData.teacherName}
                                            onChange={(e) => setFormData(prev => ({ ...prev, teacherName: e.target.value.toUpperCase() }))}
                                            name="teacherName"
                                            required
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Email (Opcional)
                                        </label>
                                        <input
                                            type="email"
                                            value={formData.teacherEmail}
                                            onChange={(e) => setFormData(prev => ({ ...prev, teacherEmail: e.target.value.toLowerCase() }))}
                                            className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base"
                                            placeholder="email@itdurango.edu.mx"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Departamento *
                                        </label>
                                        <select
                                            value={formData.department}
                                            onChange={(e) => setFormData(prev => ({ ...prev, department: e.target.value }))}
                                            className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base"
                                            required
                                        >
                                            <option value="">Seleccione un departamento</option>
                                            {MOCK_DEPARTMENTS.map(dep => (
                                                <option key={dep} value={dep}>{dep}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-3">
                                            Seleccione el Curso que Tom√≥ *
                                        </label>
                                        <div className="grid grid-cols-1 gap-3 max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4">
                                            {courses.map(course => {
                                                const isSelected = formData.selectedCourse?.id === course.id;
                                                return (
                                                    <div key={course.id} className="relative">
                                                        <input
                                                            type="radio"
                                                            id={`course-${course.id}`}
                                                            name="course-selection"
                                                            checked={isSelected}
                                                            onChange={() => setFormData(prev => ({ ...prev, selectedCourse: course }))}
                                                            className="sr-only peer"
                                                            required
                                                        />
                                                        <label
                                                            htmlFor={`course-${course.id}`}
                                                            className={`block p-4 rounded-lg border-2 transition-all cursor-pointer ${
                                                                isSelected
                                                                    ? 'border-blue-500 bg-blue-50'
                                                                    : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'
                                                            }`}
                                                        >
                                                            <h4 className="font-bold text-sm text-gray-800 mb-1">
                                                                {course.name}
                                                            </h4>
                                                            <p className="text-xs text-gray-600">
                                                                {course.dates} ‚Ä¢ {course.location}
                                                            </p>
                                                        </label>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>

                                    <div className="flex justify-end pt-4">
                                        <button
                                            type="submit"
                                            disabled={isSubmitting}
                                            className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                        >
                                            {isSubmitting ? '‚è≥ Procesando...' : 'Continuar a la Encuesta ‚Üí'}
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                );
            }

            // PASO 2: Redirigir a encuesta
            if (currentStep === 2) {
                return (
                    <div className="container mx-auto px-4 py-12">
                        <div className="max-w-2xl mx-auto text-center">
                            <div className="bg-white rounded-xl shadow-lg p-8 sm:p-12">
                                <div className="text-6xl mb-6">‚úÖ</div>
                                <h2 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">
                                    ¬°Registro Exitoso!
                                </h2>
                                <p className="text-gray-600 mb-8">
                                    Gracias, <strong>{formData.teacherName}</strong>.<br />
                                    Ahora ser√°s redirigido a la encuesta de evaluaci√≥n del curso:<br />
                                    <strong className="text-blue-600">{formData.selectedCourse?.name}</strong>
                                </p>
                                <button
                                    onClick={handleGoToSurvey}
                                    className="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-4 px-8 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg"
                                >
                                    üìù Ir a la Encuesta
                                </button>
                                <p className="text-xs text-gray-500 mt-4">
                                    La encuesta se abrir√° en una nueva pesta√±a
                                </p>
                            </div>
                        </div>
                    </div>
                );
            }

            // PASO 3: Agradecimiento final
            return (
                <div className="container mx-auto px-4 py-12">
                    <div className="max-w-2xl mx-auto text-center">
                        <div className="bg-white rounded-xl shadow-lg p-8 sm:p-12">
                            <div className="text-6xl mb-6">üéì</div>
                            <h2 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">
                                ¬°Gracias por tu Participaci√≥n!
                            </h2>
                            <p className="text-gray-600 mb-8">
                                Tu opini√≥n es muy valiosa para mejorar la calidad de nuestros cursos.
                            </p>
                            <a
                                href="index.html"
                                className="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors"
                            >
                                ‚Üê Volver al Portal Principal
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        // =============================================================================
        // RENDER
        // =============================================================================
        const rootElement = document.getElementById('root');
        if (rootElement) {
            const root = ReactDOM.createRoot(rootElement);
            root.render(
                <React.StrictMode>
                    <SurveyApp />
                </React.StrictMode>
            );
        }
    </script>

    <!-- ========================================================================== -->
    <!-- CONFIGURACI√ìN: Coloque aqu√≠ la URL de su Google Apps Script              -->
    <!-- ========================================================================== -->
    <script>
        window.CONFIG = {
            // üëá REEMPLACE ESTA URL CON LA URL DE SU GOOGLE APPS SCRIPT
            APPS_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycby_ESgq4InYsgJMqbsJz_je6M62PQ8uFFwiNwrHUuPt-131BxiiesiXf4wuEORrr7Cd4A/exec'
        };
    </script>
    <!-- ========================================================================== -->

</body>
</html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encuestas de Opini√≥n - ITD</title>
    
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen">

    <!-- Header -->
    <header class="bg-white shadow-xl sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4 sm:py-6">
            <div class="flex items-center justify-between gap-4">
                <img src="https://raw.githubusercontent.com/DA-itd/web/main/TecNM_logo.jpg" 
                     alt="TecNM" 
                     class="h-12 sm:h-16 md:h-20 object-contain">
                
                <div class="text-center flex-1 px-2 sm:px-4">
                    <h1 class="text-sm sm:text-xl md:text-2xl lg:text-3xl font-bold text-blue-900 leading-tight">
                        ENCUESTAS DE OPINI√ìN
                    </h1>
                    <p class="text-xs sm:text-sm md:text-base text-blue-700 mt-1 font-semibold">
                        Evaluaci√≥n de Cursos
                    </p>
                    <p class="text-xs sm:text-sm text-blue-600">
                        TecNM - Instituto Tecnol√≥gico de Durango
                    </p>
                </div>
                
                <img src="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png" 
                     alt="ITD" 
                     class="h-12 sm:h-16 md:h-20 object-contain">
            </div>
        </div>
    </header>

    <div id="root"></div>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-blue-900 to-indigo-900 text-white text-center py-6 sm:py-8 mt-12">
        <div class="container mx-auto px-4">
            <p class="font-semibold text-sm sm:text-base mb-2">
                ¬© Coordinaci√≥n de Actualizaci√≥n Docente
            </p>
            <p class="text-xs sm:text-sm opacity-90">
                M.C. Alejandro Calder√≥n Renter√≠a
            </p>
            <p class="text-xs sm:text-sm opacity-75 mt-1">
                Todos los derechos reservados 2024
            </p>
        </div>
    </footer>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // =============================================================================
        // CONFIGURACI√ìN
        // =============================================================================
        const COURSES_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSAe4dmVN4CArjEy_lvI5qrXf16naxZLO1lAxGm2Pj4TrdnoebBg03Vv4-DCXciAkHJFiZaBMKletUs/pub?gid=0&single=true&output=csv';
        const TEACHERS_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSAe4dmVN4CArjEy_lvI5qrXf16naxZLO1lAxGm2Pj4TrdnoebBg03Vv4-DCXciAkHJFiZaBMKletUs/pub?gid=987931491&single=true&output=csv';
        
        const SURVEY_URL = 'https://forms.gle/8kkdXTawKxFP4XFD7';

        const MOCK_DEPARTMENTS = [
            "DEPARTAMENTO DE SISTEMAS Y COMPUTACION",
            "DEPARTAMENTO DE INGENIER√çA EL√âCTRICA Y ELECTR√ìNICA",
            "DEPARTAMENTO DE CIENCIAS ECONOMICO-ADMINISTRATIVAS",
            "DEPARTAMENTO DE INGENIER√çA QU√çMICA-BIOQU√çMICA",
            "DEPARTAMENTO DE CIENCIAS DE LA TIERRA",
            "DEPARTAMENTO DE CIENCIAS BASICAS",
            "DEPARTAMENTO DE METAL-MEC√ÅNICA",
            "DEPARTAMENTO DE INGENIER√çA INDUSTRIAL",
            "DIVISION DE ESTUDIOS DE POSGRADO E INVESTIGACION",
            "ADMINISTRATIVO",
            "EXTERNO"
        ];

        // =============================================================================
        // FUNCIONES DE UTILIDAD
        // =============================================================================
        const removeAccents = (text) => {
            if (!text) return '';
            return text.normalize('NFD').replace(/[\u0300-\u036f]/g, '');
        };

        const parseCSVLine = (line) => {
            const result = [];
            let current = '';
            let inQuotes = false;
            
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                if (char === '"') {
                    if (inQuotes && line[i + 1] === '"') {
                        current += '"';
                        i++;
                    } else {
                        inQuotes = !inQuotes;
                    }
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current.trim());
            return result;
        };

        const cleanCSVValue = (val) => {
            let cleaned = val.trim();
            if (cleaned.startsWith('"') && cleaned.endsWith('"')) {
                cleaned = cleaned.substring(1, cleaned.length - 1).replace(/""/g, '"');
            }
            return cleaned;
        };

        // =============================================================================
        // API SERVICES
        // =============================================================================
        const getTeachers = async () => {
            try {
                const response = await fetch(`${TEACHERS_CSV_URL}&_=${Date.now()}`);
                if (!response.ok) throw new Error('Error al cargar docentes');
                
                const csvText = await response.text();
                const lines = csvText.trim().split(/\r?\n/);
                
                return lines.slice(1)
                    .filter(line => line.trim())
                    .map(line => {
                        const values = parseCSVLine(line);
                        if (values.length < 3) return null;
                        return {
                            nombreCompleto: cleanCSVValue(values[0]),
                            curp: cleanCSVValue(values[1]),
                            email: cleanCSVValue(values[2])
                        };
                    })
                    .filter(teacher => teacher !== null);
            } catch (error) {
                console.error("Error al obtener docentes:", error);
                return [];
            }
        };

        const getCourses = async () => {
            try {
                const response = await fetch(`${COURSES_CSV_URL}&_=${Date.now()}`);
                if (!response.ok) throw new Error('Error al cargar cursos');
                
                const csvText = await response.text();
                const lines = csvText.trim().split(/\r?\n/);
                
                return lines.slice(1)
                    .filter(line => line.trim())
                    .map(line => {
                        const values = parseCSVLine(line);
                        if (values.length < 8) return null;
                        
                        return {
                            id: cleanCSVValue(values[0]),
                            name: cleanCSVValue(values[1]),
                            dates: cleanCSVValue(values[2]),
                            period: cleanCSVValue(values[3]),
                            location: cleanCSVValue(values[5]),
                            schedule: cleanCSVValue(values[6])
                        };
                    })
                    .filter(course => course !== null);
            } catch (error) {
                console.error("Error al obtener cursos:", error);
                return [];
            }
        };

        const submitSurveyRecord = async (data) => {
            const APPS_SCRIPT_URL = window.CONFIG?.APPS_SCRIPT_URL;
            if (!APPS_SCRIPT_URL) {
                console.warn("No hay URL configurada, registro solo local");
                return { success: true };
            }
            
            try {
                const response = await fetch(APPS_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'cors',
                    redirect: 'follow',
                    headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                    body: JSON.stringify({ 
                        action: 'submitSurveyRecord',
                        ...data 
                    })
                });

                const result = await response.json();
                return result;
            } catch (error) {
                console.error("Error al registrar encuesta:", error);
                return { success: true }; // Continuar aunque falle el registro
            }
        };

        // =============================================================================
        // COMPONENTE AUTOCOMPLETE
        // =============================================================================
        const AutocompleteInput = ({ teachers, onSelect, value, onChange, name, placeholder, required = false }) => {
            const [suggestions, setSuggestions] = useState([]);
            const [showSuggestions, setShowSuggestions] = useState(false);
            const containerRef = React.useRef(null);

            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (containerRef.current && !containerRef.current.contains(event.target)) {
                        setShowSuggestions(false);
                    }
                };
                document.addEventListener('mousedown', handleClickOutside);
                return () => document.removeEventListener('mousedown', handleClickOutside);
            }, []);

            const handleInputChange = (e) => {
                const currentValue = e.target.value;
                onChange(e);

                if (currentValue && currentValue.length > 0) {
                    const normalizedInput = removeAccents(currentValue.toLowerCase());
                    const filtered = teachers.filter(teacher =>
                        removeAccents(teacher.nombreCompleto.toLowerCase()).includes(normalizedInput)
                    ).slice(0, 5);
                    setSuggestions(filtered);
                    setShowSuggestions(filtered.length > 0);
                } else {
                    setSuggestions([]);
                    setShowSuggestions(false);
                }
            };

            const handleSelect = (teacher) => {
                onSelect(teacher);
                setShowSuggestions(false);
            };

            return (
                <div className="relative" ref={containerRef}>
                    <input
                        type="text"
                        name={name}
                        value={value}
                        onChange={handleInputChange}
                        onFocus={(e) => {
                            const val = e.target.value;
                            if (val) {
                                const normalizedInput = removeAccents(val.toLowerCase());
                                const filtered = teachers.filter(t =>
                                    removeAccents(t.nombreCompleto.toLowerCase()).includes(normalizedInput)
                                ).slice(0, 5);
                                setSuggestions(filtered);
                                setShowSuggestions(filtered.length > 0);
                            }
                        }}
                        placeholder={placeholder || "Escriba su nombre"}
                        className="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"
                        required={required}
                        autoComplete="off"
                    />
                    {showSuggestions && suggestions.length > 0 && (
                        <ul className="absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-60 overflow-auto">
                            {suggestions.map((teacher) => (
                                <li
                                    key={teacher.curp || teacher.nombreCompleto}
                                    onMouseDown={(e) => {
                                        e.preventDefault();
                                        handleSelect(teacher);
                                    }}
                                    className="px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm sm:text-base"
                                >
                                    {teacher.nombreCompleto}
                                </li>
                            ))}
                        </ul>
                    )}
                </div>
            );
        };

        // =============================================================================
        // COMPONENTE PRINCIPAL - SURVEY APP
        // =============================================================================
        const SurveyApp = () => {
            const [teachers, setTeachers] = useState([]);
            const [courses, setCourses] = useState([]);
            const [isLoading, setIsLoading] = useState(true);
            const [currentStep, setCurrentStep] = useState(1);
            
            const [formData, setFormData] = useState({
                teacherName: '',
                teacherEmail: '',
                department: '',
                selectedCourse: null
            });
            
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [error, setError] = useState(null);

            useEffect(() => {
                const fetchData = async () => {
                    setIsLoading(true);
                    try {
                        const [teachersData, coursesData] = await Promise.all([
                            getTeachers(),
                            getCourses()
                        ]);
                        setTeachers(teachersData);
                        setCourses(coursesData);
                    } catch (err) {
                        console.error("Error al cargar datos:", err);
                        setError("No se pudieron cargar los datos");
                    } finally {
                        setIsLoading(false);
                    }
                };
                fetchData();
            }, []);

            const handleTeacherSelect = (teacher) => {
                setFormData(prev => ({
                    ...prev,
                    teacherName: teacher.nombreCompleto.toUpperCase(),
                    teacherEmail: (teacher.email || '').toLowerCase()
                }));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                
                if (!formData.teacherName || !formData.department || !formData.selectedCourse) {
                    setError("Todos los campos son obligatorios");
                    return;
                }

                setIsSubmitting(true);
                setError(null);

                try {
                    // Registrar en la base de datos
                    await submitSurveyRecord({
                        timestamp: new Date().toISOString(),
                        teacherName: formData.teacherName,
                        teacherEmail: formData.teacherEmail,
                        department: formData.department,
                        courseId: formData.selectedCourse.id,
                        courseName: formData.selectedCourse.name,
                        surveyUrl: SURVEY_URL
                    });

                    // Avanzar al paso 2
                    setCurrentStep(2);
                    
                } catch (err) {
                    setError("Hubo un error al procesar tu solicitud");
                    console.error(err);
                } finally {
                    setIsSubmitting(false);
                }
            };

            const handleGoToSurvey = () => {
                // Abrir encuesta en nueva pesta√±a
                window.open(SURVEY_URL, '_blank');
                
                // Mostrar mensaje de agradecimiento
                setCurrentStep(3);
            };

            if (isLoading) {
                return (
                    <div className="container mx-auto px-4 py-12">
                        <div className="flex justify-center items-center h-64">
                            <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-800"></div>
                        </div>
                    </div>
                );
            }

            // PASO 1: Formulario de datos
            if (currentStep === 1) {
                return (
                    <div className="container mx-auto px-4 py-8">
                        <div className="max-w-3xl mx-auto">
                            <a href="index.html" 
                               className="inline-flex items-center text-blue-600 hover:text-blue-800 hover:underline mb-6 text-sm">
                                ‚Üê Volver al Portal Principal
                            </a>

                            <div className="bg-gradient-to-r from-yellow-400 to-orange-400 rounded-2xl shadow-xl p-6 text-white mb-8 animate-fadeIn">
                                <div className="flex items-center gap-4">
                                    <div className="text-5xl">üìä</div>
                                    <div>
                                        <h2 className="text-2xl sm:text-3xl font-bold mb-2">Encuesta de Evaluaci√≥n</h2>
                                        <p className="text-sm opacity-90">
                                            Tu opini√≥n es muy importante para mejorar nuestros cursos
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-xl shadow-lg p-6 sm:p-8">
                                <h3 className="text-xl font-bold text-gray-800 mb-6">
                                    Datos del Docente y Curso
                                </h3>

                                {error && (
                                    <div className="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md">
                                        <p className="text-sm">{error}</p>
                                    </div>
                                )}

                                <form onSubmit={handleSubmit} className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Nombre Completo *
                                        </label>
                                        <AutocompleteInput
                                            teachers={teachers}
                                            onSelect={handleTeacherSelect}
                                            value={formData.teacherName}
                                            onChange={(e) => setFormData(prev => ({ ...prev, teacherName: e.target.value.toUpperCase() }))}
                                            name="teacherName"
                                            required
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Email (Opcional)
                                        </label>
                                        <input
                                            type="email"
                                            value={formData.teacherEmail}
                                            onChange={(e) => setFormData(prev => ({ ...prev, teacherEmail: e.target.value.toLowerCase() }))}
                                            className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base"
                                            placeholder="email@itdurango.edu.mx"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Departamento *
                                        </label>
                                        <select
                                            value={formData.department}
                                            onChange={(e) => setFormData(prev => ({ ...prev, department: e.target.value }))}
                                            className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base"
                                            required
                                        >
                                            <option value="">Seleccione un departamento</option>
                                            {MOCK_DEPARTMENTS.map(dep => (
                                                <option key={dep} value={dep}>{dep}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-3">
                                            Seleccione el Curso que Tom√≥ *
                                        </label>
                                        <div className="grid grid-cols-1 gap-3 max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4">
                                            {courses.map(course => {
                                                const isSelected = formData.selectedCourse?.id === course.id;
                                                return (
                                                    <div key={course.id} className="relative">
                                                        <input
                                                            type="radio"
                                                            id={`course-${course.id}`}
                                                            name="course-selection"
                                                            checked={isSelected}
                                                            onChange={() => setFormData(prev => ({ ...prev, selectedCourse: course }))}
                                                            className="sr-only peer"
                                                            required
                                                        />
                                                        <label
                                                            htmlFor={`course-${course.id}`}
                                                            className={`block p-4 rounded-lg border-2 transition-all cursor-pointer ${
                                                                isSelected
                                                                    ? 'border-blue-500 bg-blue-50'
                                                                    : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'
                                                            }`}
                                                        >
                                                            <h4 className="font-bold text-sm text-gray-800 mb-1">
                                                                {course.name}
                                                            </h4>
                                                            <p className="text-xs text-gray-600">
                                                                {course.dates} ‚Ä¢ {course.location}
                                                            </p>
                                                        </label>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>

                                    <div className="flex justify-end pt-4">
                                        <button
                                            type="submit"
                                            disabled={isSubmitting}
                                            className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                        >
                                            {isSubmitting ? '‚è≥ Procesando...' : 'Continuar a la Encuesta ‚Üí'}
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                );
            }

            // PASO 2: Redirigir a encuesta
            if (currentStep === 2) {
                return (
                    <div className="container mx-auto px-4 py-12">
                        <div className="max-w-2xl mx-auto text-center">
                            <div className="bg-white rounded-xl shadow-lg p-8 sm:p-12">
                                <div className="text-6xl mb-6">‚úÖ</div>
                                <h2 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">
                                    ¬°Registro Exitoso!
                                </h2>
                                <p className="text-gray-600 mb-8">
                                    Gracias, <strong>{formData.teacherName}</strong>.<br />
                                    Ahora ser√°s redirigido a la encuesta de evaluaci√≥n del curso:<br />
                                    <strong className="text-blue-600">{formData.selectedCourse?.name}</strong>
                                </p>
                                <button
                                    onClick={handleGoToSurvey}
                                    className="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-4 px-8 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg"
                                >
                                    üìù Ir a la Encuesta
                                </button>
                                <p className="text-xs text-gray-500 mt-4">
                                    La encuesta se abrir√° en una nueva pesta√±a
                                </p>
                            </div>
                        </div>
                    </div>
                );
            }

            // PASO 3: Agradecimiento final
            return (
                <div className="container mx-auto px-4 py-12">
                    <div className="max-w-2xl mx-auto text-center">
                        <div className="bg-white rounded-xl shadow-lg p-8 sm:p-12">
                            <div className="text-6xl mb-6">üéì</div>
                            <h2 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">
                                ¬°Gracias por tu Participaci√≥n!
                            </h2>
                            <p className="text-gray-600 mb-8">
                                Tu opini√≥n es muy valiosa para mejorar la calidad de nuestros cursos.
                            </p>
                            <a
                                href="index.html"
                                className="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors"
                            >
                                ‚Üê Volver al Portal Principal
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        // =============================================================================
        // RENDER
        // =============================================================================
        const rootElement = document.getElementById('root');
        if (rootElement) {
            const root = ReactDOM.createRoot(rootElement);
            root.render(
                <React.StrictMode>
                    <SurveyApp />
                </React.StrictMode>
            );
        }
    </script>

    <!-- ========================================================================== -->
    <!-- CONFIGURACI√ìN: Coloque aqu√≠ la URL de su Google Apps Script              -->
    <!-- ========================================================================== -->
    <script>
        window.CONFIG = {
            // üëá REEMPLACE ESTA URL CON LA URL DE SU GOOGLE APPS SCRIPT
            APPS_SCRIPT_URL: 'https://script.google.com/macros/s/TU_SCRIPT_ID_AQUI/exec'
        };
    </script>
    <!-- ========================================================================== -->

</body>
</html>

    <!-- Header -->
    <header class="bg-white shadow-xl sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4 sm:py-6">
            <div class="flex items-center justify-between gap-4">
                <img src="https://raw.githubusercontent.com/DA-itd/web/main/TecNM_logo.jpg" 
                     alt="TecNM" 
                     class="h-12 sm:h-16 md:h-20 object-contain">
                
                <div class="text-center flex-1 px-2 sm:px-4">
                    <h1 class="text-sm sm:text-xl md:text-2xl lg:text-3xl font-bold text-blue-900 leading-tight">
                        ENCUESTAS DE OPINI√ìN
                    </h1>
                    <p class="text-xs sm:text-sm md:text-base text-blue-700 mt-1 font-semibold">
                        Desarrollo Acad√©mico
                    </p>
                    <p class="text-xs sm:text-sm text-blue-600">
                        TecNM - Instituto Tecnol√≥gico de Durango
                    </p>
                </div>
                
                <img src="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png" 
                     alt="ITD" 
                     class="h-12 sm:h-16 md:h-20 object-contain">
            </div>
        </div>
    </header>

    <!-- Contenido Principal -->
    <main class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            
            <!-- Bot√≥n Volver -->
            <a href="index.html" 
               class="inline-flex items-center text-blue-600 hover:text-blue-800 hover:underline mb-6 text-sm sm:text-base">
                ‚Üê Volver al Portal Principal
            </a>

            <!-- Mensaje de Bienvenida -->
            <div class="bg-gradient-to-r from-yellow-400 to-orange-400 rounded-2xl shadow-xl p-6 sm:p-8 text-white mb-8 animate-fadeIn">
                <div class="flex items-center gap-4">
                    <div class="text-5xl">üìä</div>
                    <div>
                        <h2 class="text-2xl sm:text-3xl font-bold mb-2">Encuestas de Opini√≥n</h2>
                        <p class="text-sm sm:text-base opacity-90">
                            Tu opini√≥n es muy importante para mejorar nuestros servicios de actualizaci√≥n docente.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Grid de Encuestas -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                
                <!-- ============================================================ -->
                <!-- ENCUESTA 1: EVALUACI√ìN DE CURSOS                             -->
                <!-- ============================================================ -->
                <div class="survey-card bg-white rounded-xl shadow-lg p-6 border-t-4 border-blue-500">
                    <div class="text-5xl mb-4 text-center">üìö</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">
                        Evaluaci√≥n de Cursos
                    </h3>
                    <p class="text-sm text-gray-600 mb-4">
                        Eval√∫a la calidad de los cursos que has tomado
                    </p>
                    <div class="bg-blue-50 rounded-lg p-3 mb-4">
                        <p class="text-xs text-blue-800">
                            ‚è±Ô∏è Tiempo estimado: 5-7 minutos
                        </p>
                    </div>
                    <!-- üëá REEMPLAZA CON TU URL DE GOOGLE FORM -->
                    <a href="https://forms.gle/TU_FORMULARIO_1" 
                       target="_blank"
                       rel="noopener noreferrer"
                       class="block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-center transition-colors">
                        üìù Responder Encuesta
                    </a>
                </div>

                <!-- ============================================================ -->
                <!-- ENCUESTA 2: EVALUACI√ìN DE INSTRUCTORES                       -->
                <!-- ============================================================ -->
                <div class="survey-card bg-white rounded-xl shadow-lg p-6 border-t-4 border-green-500">
                    <div class="text-5xl mb-4 text-center">üë®‚Äçüè´</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">
                        Evaluaci√≥n de Instructores
                    </h3>
                    <p class="text-sm text-gray-600 mb-4">
                        Eval√∫a el desempe√±o de los instructores
                    </p>
                    <div class="bg-green-50 rounded-lg p-3 mb-4">
                        <p class="text-xs text-green-800">
                            ‚è±Ô∏è Tiempo estimado: 3-5 minutos
                        </p>
                    </div>
                    <!-- üëá REEMPLAZA CON TU URL DE GOOGLE FORM -->
                    <a href="https://forms.gle/TU_FORMULARIO_2" 
                       target="_blank"
                       rel="noopener noreferrer"
                       class="block w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-center transition-colors">
                        üìù Responder Encuesta
                    </a>
                </div>

                <!-- ============================================================ -->
                <!-- ENCUESTA 3: SATISFACCI√ìN GENERAL                             -->
                <!-- ============================================================ -->
                <div class="survey-card bg-white rounded-xl shadow-lg p-6 border-t-4 border-purple-500">
                    <div class="text-5xl mb-4 text-center">‚≠ê</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">
                        Satisfacci√≥n General
                    </h3>
                    <p class="text-sm text-gray-600 mb-4">
                        Tu experiencia con el servicio de actualizaci√≥n docente
                    </p>
                    <div class="bg-purple-50 rounded-lg p-3 mb-4">
                        <p class="text-xs text-purple-800">
                            ‚è±Ô∏è Tiempo estimado: 4-6 minutos
                        </p>
                    </div>
                    <!-- üëá REEMPLAZA CON TU URL DE GOOGLE FORM -->
                    <a href="https://forms.gle/TU_FORMULARIO_3" 
                       target="_blank"
                       rel="noopener noreferrer"
                       class="block w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg text-center transition-colors">
                        üìù Responder Encuesta
                    </a>
                </div>

                <!-- ============================================================ -->
                <!-- ENCUESTA 4: SUGERENCIAS Y MEJORAS                            -->
                <!-- ============================================================ -->
                <div class="survey-card bg-white rounded-xl shadow-lg p-6 border-t-4 border-orange-500">
                    <div class="text-5xl mb-4 text-center">üí°</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">
                        Sugerencias y Mejoras
                    </h3>
                    <p class="text-sm text-gray-600 mb-4">
                        Comparte tus ideas para mejorar el servicio
                    </p>
                    <div class="bg-orange-50 rounded-lg p-3 mb-4">
                        <p class="text-xs text-orange-800">
                            ‚è±Ô∏è Tiempo estimado: 5-8 minutos
                        </p>
                    </div>
                    <!-- üëá REEMPLAZA CON TU URL DE GOOGLE FORM -->
                    <a href="https://forms.gle/TU_FORMULARIO_4" 
                       target="_blank"
                       rel="noopener noreferrer"
                       class="block w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-4 rounded-lg text-center transition-colors">
                        üìù Responder Encuesta
                    </a>
                </div>

                <!-- ============================================================ -->
                <!-- ENCUESTA 5: NECESIDADES DE CAPACITACI√ìN                      -->
                <!-- ============================================================ -->
                <div class="survey-card bg-white rounded-xl shadow-lg p-6 border-t-4 border-red-500">
                    <div class="text-5xl mb-4 text-center">üéØ</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">
                        Necesidades de Capacitaci√≥n
                    </h3>
                    <p class="text-sm text-gray-600 mb-4">
                        Indica qu√© cursos te gustar√≠a tomar
                    </p>
                    <div class="bg-red-50 rounded-lg p-3 mb-4">
                        <p class="text-xs text-red-800">
                            ‚è±Ô∏è Tiempo estimado: 3-5 minutos
                        </p>
                    </div>
                    <!-- üëá REEMPLAZA CON TU URL DE GOOGLE FORM -->
                    <a href="https://forms.gle/TU_FORMULARIO_5" 
                       target="_blank"
                       rel="noopener noreferrer"
                       class="block w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg text-center transition-colors">
                        üìù Responder Encuesta
                    </a>
                </div>

                <!-- ============================================================ -->
                <!-- ENCUESTA 6: EVALUACI√ìN DE INSTALACIONES                      -->
                <!-- ============================================================ -->
                <div class="survey-card bg-white rounded-xl shadow-lg p-6 border-t-4 border-teal-500">
                    <div class="text-5xl mb-4 text-center">üè¢</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">
                        Evaluaci√≥n de Instalaciones
                    </h3>
                    <p class="text-sm text-gray-600 mb-4">
                        Eval√∫a las instalaciones y recursos disponibles
                    </p>
                    <div class="bg-teal-50 rounded-lg p-3 mb-4">
                        <p class="text-xs text-teal-800">
                            ‚è±Ô∏è Tiempo estimado: 3-4 minutos
                        </p>
                    </div>
                    <!-- üëá REEMPLAZA CON TU URL DE GOOGLE FORM -->
                    <a href="https://forms.gle/TU_FORMULARIO_6" 
                       target="_blank"
                       rel="noopener noreferrer"
                       class="block w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-4 rounded-lg text-center transition-colors">
                        üìù Responder Encuesta
                    </a>
                </div>

            </div>

            <!-- Informaci√≥n Adicional -->
            <div class="bg-white rounded-2xl shadow-xl p-6 sm:p-8">
                <div class="flex items-start gap-4">
                    <div class="text-4xl">‚ÑπÔ∏è</div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-3">
                            Informaci√≥n sobre las Encuestas
                        </h3>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-start gap-2">
                                <span class="text-green-600 font-bold">‚úì</span>
                                <span>Todas las encuestas son <strong>an√≥nimas</strong> y confidenciales</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-600 font-bold">‚úì</span>
                                <span>Tus respuestas nos ayudan a <strong>mejorar continuamente</strong></span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-600 font-bold">‚úì</span>
                                <span>Puedes contestar las encuestas <strong>en cualquier momento</strong></span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-600 font-bold">‚úì</span>
                                <span>Se recomienda responder con <strong>sinceridad</strong> para obtener mejores resultados</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Contacto -->
            <div class="mt-8 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl shadow-xl p-6 text-white text-center">
                <div class="text-4xl mb-3">üí¨</div>
                <h3 class="text-xl font-bold mb-2">¬øNecesitas Ayuda?</h3>
                <p class="text-sm opacity-90 mb-4">
                    Si tienes problemas con alguna encuesta, cont√°ctanos
                </p>
                <a href="mailto:desarrollo.academico@itdurango.edu.mx" 
                   class="inline-block bg-white text-blue-600 font-bold px-6 py-3 rounded-lg hover:bg-gray-100 transition-colors">
                    üìß Enviar Email
                </a>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-blue-900 to-indigo-900 text-white text-center py-6 sm:py-8 mt-12">
        <div class="container mx-auto px-4">
            <p class="font-semibold text-sm sm:text-base mb-2">
                ¬© Coordinaci√≥n de Actualizaci√≥n Docente
            </p>
            <p class="text-xs sm:text-sm opacity-90">
                M.C. Alejandro Calder√≥n Renter√≠a
            </p>
            <p class="text-xs sm:text-sm opacity-75 mt-1">
                Todos los derechos reservados 2024
            </p>
        </div>
    </footer>

</body>
</html>